<!DOCTYPE html>
<!-- saved from url=(0028)http://nodejs.cn/api/v8.html -->
<html lang="zh-cmn-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <title>v8 | Node.js API 文档</title>
  <link rel="stylesheet" href="res/api.css" />
</head>
<body class="alt apidoc" id="api-section-v8">
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <div id="intro" class="interior">
        <a href="http://nodejs.cn/">
          Node.js 中文网
        </a>
      </div>
      <ul>
<li><a class="nav-documentation" href="documentation.html">关于本文档</a></li>
<li><a class="nav-synopsis" href="synopsis.html">用法与例子</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-assert" href="assert.html">Assert (断言)</a></li>
<li><a class="nav-buffer" href="buffer.html">Buffer</a></li>
<li><a class="nav-addons" href="addons.html">C/C++ 插件</a></li>
<li><a class="nav-child_process" href="child_process.html">Child Processes (子进程)</a></li>
<li><a class="nav-cluster" href="cluster.html">Cluster (集群)</a></li>
<li><a class="nav-cli" href="cli.html">CLI (命令行选项)</a></li>
<li><a class="nav-console" href="console.html">Console (控制台)</a></li>
<li><a class="nav-crypto" href="crypto.html">Crypto (加密)</a></li>
<li><a class="nav-debugger" href="debugger.html">Debugger (调试器)</a></li>
<li><a class="nav-dns" href="dns.html">DNS (域名服务器)</a></li>
<li><a class="nav-domain" href="domain.html">Domain (域)</a></li>
<li><a class="nav-errors" href="errors.html">Error (错误)</a></li>
<li><a class="nav-events" href="events.html">Events (事件)</a></li>
<li><a class="nav-fs" href="fs.html">File System (文件系统)</a></li>
<li><a class="nav-globals" href="globals.html">Global (全局变量)</a></li>
<li><a class="nav-http" href="http.html">HTTP</a></li>
<li><a class="nav-https" href="https.html">HTTPS</a></li>
<li><a class="nav-modules" href="modules.html">Module (模块)</a></li>
<li><a class="nav-net" href="net.html">Net (网络)</a></li>
<li><a class="nav-os" href="os.html">OS (操作系统)</a></li>
<li><a class="nav-path" href="path.html">Path (路径)</a></li>
<li><a class="nav-process" href="process.html">Process (进程)</a></li>
<li><a class="nav-punycode" href="punycode.html">Punycode</a></li>
<li><a class="nav-querystring" href="querystring.html">Query Strings (查询字符串)</a></li>
<li><a class="nav-readline" href="readline.html">Readline (逐行读取)</a></li>
<li><a class="nav-repl" href="repl.html">REPL (交互式解释器)</a></li>
<li><a class="nav-stream" href="stream.html">Stream (流)</a></li>
<li><a class="nav-string_decoder" href="string_decoder.html">String Decoder (字符串解码器)</a></li>
<li><a class="nav-timers" href="timers.html">Timer (定时器)</a></li>
<li><a class="nav-tls" href="tls.html">TLS/SSL</a></li>
<li><a class="nav-tty" href="tty.html">TTY (终端)</a></li>
<li><a class="nav-dgram" href="dgram.html">UDP/Datagram (数据报)</a></li>
<li><a class="nav-url" href="url.html">URL</a></li>
<li><a class="nav-util" href="util.html">Util (实用工具)</a></li>
<li><a class="nav-v8 active" href="./v8_files/v8.htm">V8</a></li>
<li><a class="nav-vm" href="vm.html">VM (虚拟机)</a></li>
<li><a class="nav-zlib" href="zlib.html">ZLIB (压缩)</a></li>
</ul>
<div class="line"></div>


    </div>

    <div id="column1" data-id="v8" class="interior">
      <header>
        <h1>Node.js v6.10.2 文档</h1>
        <div id="gtoc">
          <p>
            <a href="" name="toc">返回文档首页</a>
            <!--<a href="/api/all.html">单页面显示</a> |-->
            <!--<a href="/api/v8.json">JSON格式</a> |-->
            <!--<a href="/api/en/v8.html">查看英文版</a>-->
          </p>
        </div>
        <hr>
      </header>

      <div id="toc">
        <h2>目录</h2>
        <ul>
<li><span class="stability_undefined"><a href="v8.html#v8_v8">V8</a></span><ul>
<li><span class="stability_undefined"><a href="v8.html#v8_v8_getheapstatistics">v8.getHeapStatistics()</a></span></li>
<li><span class="stability_undefined"><a href="v8.html#v8_v8_getheapspacestatistics">v8.getHeapSpaceStatistics()</a></span></li>
<li><span class="stability_undefined"><a href="v8.html#v8_v8_setflagsfromstring_string">v8.setFlagsFromString(string)</a></span></li>
</ul>
</li>
</ul>

      </div>

      <div id="apicontent">
        <h1>V8<span><a class="mark" href="v8.html#v8_v8" id="v8_v8">#</a></span></h1><p style="font-size:12px;margin-top:-1em"><a href="en/v8.html#v8_v8">查看英文版</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/v8/v8.md">参与翻译</a></p>
<p>The <code>v8</code> module exposes APIs that are specific to the version of <a href="https://developers.google.com/v8/">V8</a>
built into the Node.js binary. It can be accessed using:</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> v8 <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'v8'</span><span class="sh_symbol">);</span>
</code></pre>
<p><em>Note</em>: The APIs and implementation are subject to change at any time.</p>
<h2>v8.getHeapStatistics()<span><a class="mark" href="v8.html#v8_v8_getheapstatistics" id="v8_v8_getheapstatistics">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="en/v8.html#v8_v8_getheapstatistics">查看英文版</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/v8/v8_getheapstatistics.md">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v1.0.0</span>
</div><p>Returns an object with the following properties:</p>
<ul>
<li><code>total_heap_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>total_heap_size_executable</code> <span class="type">&lt;number&gt;</span></li>
<li><code>total_physical_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>total_available_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>used_heap_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>heap_size_limit</code> <span class="type">&lt;number&gt;</span></li>
</ul>
<p>For example:</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_cbracket">{</span>
  total_heap_size<span class="sh_symbol">:</span> <span class="sh_number">7326976</span><span class="sh_symbol">,</span>
  total_heap_size_executable<span class="sh_symbol">:</span> <span class="sh_number">4194304</span><span class="sh_symbol">,</span>
  total_physical_size<span class="sh_symbol">:</span> <span class="sh_number">7326976</span><span class="sh_symbol">,</span>
  total_available_size<span class="sh_symbol">:</span> <span class="sh_number">1152656</span><span class="sh_symbol">,</span>
  used_heap_size<span class="sh_symbol">:</span> <span class="sh_number">3476208</span><span class="sh_symbol">,</span>
  heap_size_limit<span class="sh_symbol">:</span> <span class="sh_number">1535115264</span>
<span class="sh_cbracket">}</span>
</code></pre>
<h2>v8.getHeapSpaceStatistics()<span><a class="mark" href="v8.html#v8_v8_getheapspacestatistics" id="v8_v8_getheapspacestatistics">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="en/v8.html#v8_v8_getheapspacestatistics">查看英文版</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/v8/v8_getheapspacestatistics.md">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v6.0.0</span>
</div><p>Returns statistics about the V8 heap spaces, i.e. the segments which make up
the V8 heap. Neither the ordering of heap spaces, nor the availability of a
heap space can be guaranteed as the statistics are provided via the V8
<a href="https://v8docs.nodesource.com/node-5.0/d5/dda/classv8_1_1_isolate.html#ac673576f24fdc7a33378f8f57e1d13a4"><code>GetHeapSpaceStatistics</code></a> function and may change from one V8 version to the
next.</p>
<p>The value returned is an array of objects containing the following properties:</p>
<ul>
<li><code>space_name</code> <span class="type">&lt;string&gt;</span></li>
<li><code>space_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>space_used_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>space_available_size</code> <span class="type">&lt;number&gt;</span></li>
<li><code>physical_space_size</code> <span class="type">&lt;number&gt;</span></li>
</ul>
<p>For example:</p>
<pre class="sh_sourceCode"><code class="lang-json"><span class="sh_symbol">[</span>
  <span class="sh_cbracket">{</span>
    <span class="sh_string">"space_name"</span><span class="sh_symbol">:</span> <span class="sh_string">"new_space"</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">2063872</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_used_size"</span><span class="sh_symbol">:</span> <span class="sh_number">951112</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_available_size"</span><span class="sh_symbol">:</span> <span class="sh_number">80824</span><span class="sh_symbol">,</span>
    <span class="sh_string">"physical_space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">2063872</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_cbracket">{</span>
    <span class="sh_string">"space_name"</span><span class="sh_symbol">:</span> <span class="sh_string">"old_space"</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">3090560</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_used_size"</span><span class="sh_symbol">:</span> <span class="sh_number">2493792</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_available_size"</span><span class="sh_symbol">:</span> <span class="sh_number">0</span><span class="sh_symbol">,</span>
    <span class="sh_string">"physical_space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">3090560</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_cbracket">{</span>
    <span class="sh_string">"space_name"</span><span class="sh_symbol">:</span> <span class="sh_string">"code_space"</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">1260160</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_used_size"</span><span class="sh_symbol">:</span> <span class="sh_number">644256</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_available_size"</span><span class="sh_symbol">:</span> <span class="sh_number">960</span><span class="sh_symbol">,</span>
    <span class="sh_string">"physical_space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">1260160</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_cbracket">{</span>
    <span class="sh_string">"space_name"</span><span class="sh_symbol">:</span> <span class="sh_string">"map_space"</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">1094160</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_used_size"</span><span class="sh_symbol">:</span> <span class="sh_number">201608</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_available_size"</span><span class="sh_symbol">:</span> <span class="sh_number">0</span><span class="sh_symbol">,</span>
    <span class="sh_string">"physical_space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">1094160</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_cbracket">{</span>
    <span class="sh_string">"space_name"</span><span class="sh_symbol">:</span> <span class="sh_string">"large_object_space"</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">0</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_used_size"</span><span class="sh_symbol">:</span> <span class="sh_number">0</span><span class="sh_symbol">,</span>
    <span class="sh_string">"space_available_size"</span><span class="sh_symbol">:</span> <span class="sh_number">1490980608</span><span class="sh_symbol">,</span>
    <span class="sh_string">"physical_space_size"</span><span class="sh_symbol">:</span> <span class="sh_number">0</span>
  <span class="sh_cbracket">}</span>
<span class="sh_symbol">]</span>
</code></pre>
<h2>v8.setFlagsFromString(string)<span><a class="mark" href="v8.html#v8_v8_setflagsfromstring_string" id="v8_v8_setflagsfromstring_string">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="en/v8.html#v8_v8_setflagsfromstring_string">查看英文版</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/v8/v8_setflagsfromstring_string.md">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v1.0.0</span>
</div><p>The <code>v8.setFlagsFromString()</code> method can be used to programmatically set
V8 command line flags. This method should be used with care. Changing settings
after the VM has started may result in unpredictable behavior, including
crashes and data loss; or it may simply do nothing.</p>
<p>The V8 options available for a version of Node.js may be determined by running
<code>node --v8-options</code>.  An unofficial, community-maintained list of options
and their effects is available <a href="https://github.com/thlorenz/v8-flags/blob/master/flags-0.11.md">here</a>.</p>
<p>Usage:</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_comment">// Print GC events to stdout for one minute.</span>
<span class="sh_keyword">const</span> v8 <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'v8'</span><span class="sh_symbol">);</span>
v8<span class="sh_symbol">.</span><span class="sh_function">setFlagsFromString</span><span class="sh_symbol">(</span><span class="sh_string">'--trace_gc'</span><span class="sh_symbol">);</span>
<span class="sh_function">setTimeout</span><span class="sh_symbol">(</span><span class="sh_keyword">function</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span> v8<span class="sh_symbol">.</span><span class="sh_function">setFlagsFromString</span><span class="sh_symbol">(</span><span class="sh_string">'--notrace_gc'</span><span class="sh_symbol">);</span> <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_number">60e3</span><span class="sh_symbol">);</span>
</code></pre>

      </div>
    </div>
  </div>
  <script src="res/api.js"></script>
  <script>highlight(undefined, undefined, 'pre');</script>

</body></html>